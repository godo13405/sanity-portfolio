@import "../../styles/vars";

.TileContainer {
    $corner-size: $corner-radius + $gap;

    text-decoration: none;
    position: relative;
    border-radius: $corner-radius/2;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: end;
    filter: drop-shadow(-.2em .4em .4em rgba($palette-gunmetal, .2));

    height: clamp(15em, 30vmin, 30em);

    i {
        position: absolute;
        background-position: center;
        background-repeat: no-repeat;
        background-size: 30vmin;
        top: 1em;
        left: 1em;
        right: 1em;
        height: 80%;
        z-index: 2;
    }

    &:after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        bottom: 0;
        background: $white;
        z-index: 0;
        // filter: drop-shadow(0 .4em 1.4em rgba($palette-gunmetal, .2));

        mask-image: url('/mask/hero.svg'), url('/mask/hero-top-right.svg');
        mask-repeat: no-repeat, no-repeat;
        mask-size: 100%, 120px;
        mask-composite: subtract;
        mask-position: center, 120% top;

        transition: mask-position .2s ease-out;

    }

    &:hover {
        &:after {
            mask-position: center, 100% top;
        }
    }


    .iconButton {
        background-color: $palette-coral;
        position: absolute;
        top: 0;
        right: 0;
        height: $gap*1.4;
        width: $gap*1.4;
        padding: .4em;
        border-radius: 100%;
        transition: all .2s ease-in;
        z-index: 2;
    }

    &:hover {
        .iconButton img {
            mix-blend-mode: plus-lighter;
        }
    }

    &:not(:hover) {
        &:after {
            right: -$corner-size;
        }

        .iconButton {
            margin: $gap/4;
            background-color: transparent;
        }
    }

    .textContainer {
        display: flex;
        flex-direction: column;
        gap: $gap/4;
        padding: $gap 1em 1em;
        z-index: 10;
        @include tile-background-gradient($white);

        * {
            color: $palette-gunmetal;
            text-decoration: none;
        }
    }

    .tagsContainer {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: $gap/4;
        justify-content: center;
    }
}

/* Hover Colours */

.background-PaletteCoral:hover {
    &:after {
        background-color: $palette-coral;
    }

    border-top: 1px lighten($palette-coral, 20);
    filter: drop-shadow(-.2em .4em .4em rgba($palette-coral, .4));

    .textContainer {
        @include tile-background-gradient($palette-coral);
    }
}

.background-PaletteCornsilk:hover {
    &:after {
        background-color: $palette-cornsilk;
    }

    border-top: 1px lighten($palette-cornsilk, 20);
    filter: drop-shadow(-.2em .4em .4em rgba($palette-cornsilk, .4));

    .textContainer {
        @include tile-background-gradient($palette-cornsilk);
    }
}

.background-PaletteGunmetal:hover {
    &:after {
        background-color: $palette-gunmetal;
    }

    border-top: 1px lighten($palette-gunmetal, 20);
    filter: drop-shadow(-.2em .4em .4em rgba($palette-gunmetal, .4));

    .textContainer {
        * {
            color: $white;
            border-color: $white;
        }

        @include tile-background-gradient($palette-gunmetal);
    }
}

.background-PaletteMoonstone:hover {
    &:after {
        background-color: $palette-moonstone;
    }

    border-top: 1px lighten($palette-moonstone, 20);
    filter: drop-shadow(-.2em .4em .4em rgba($palette-moonstone, .4));

    .textContainer {
        @include tile-background-gradient($palette-moonstone);
    }
}

.background-PaletteThistle:hover {
    &:after {
        background-color: $palette-thistle;
    }

    border-top: 1px lighten($palette-thistle, 20);
    filter: drop-shadow(-.2em .4em .4em rgba($palette-thistle, .4));

    .textContainer {
        @include tile-background-gradient($palette-thistle);
    }
}

.background-PaletteGreen:hover {
    &:after {
        background-color: $palette-green;
    }

    border-top: 1px lighten($palette-green, 20);
    filter: drop-shadow(-.2em .4em .4em rgba($palette-green, .4));

    .textContainer {
        @include tile-background-gradient($palette-green);
    }
}

.background-PaletteYellow:hover {
    &:after {
        background-color: $palette-yellow;
    }

    border-top: 1px lighten($palette-yellow, 20);
    filter: drop-shadow(-.2em .4em .4em rgba($palette-yellow, .4));

    .textContainer {
        @include tile-background-gradient($palette-yellow);
    }
}